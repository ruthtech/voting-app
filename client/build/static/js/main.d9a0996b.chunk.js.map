{"version":3,"sources":["utils/UserContext.js","components/Login.js","components/EditDistrict.js","components/CandidateCard.js","components/LoadingSpinner.js","components/ViewCandidates.js","components/VoteRow.js","components/VoteConfirm.js","components/Vote.js","components/Landing.js","App.js","index.js"],"names":["React","createContext","Login","useState","uuid","setUUID","password","setPassword","UserContext","Consumer","handleLogin","className","Form","Group","controlId","Label","Control","type","value","onChange","event","target","Button","variant","onClick","a","async","preventDefault","escape","query","axios","get","user","console","log","data","handleFormSubmit","EditDistrict","props","address","setAddress","city","setCity","province","setProvince","placeholder","DropdownButton","id","title","Dropdown","Item","newDistrict","district","history","push","pathname","CandidateCard","model","map","candidate","index","to","state","Card","key","party","Img","src","pictureURL","Title","name","Text","LoadingSpinner","ViewCandidates","candidates","setCandidates","voter","setVoter","loading","setLoading","useEffect","loadCandidates","VoteRow","InputGroup","plaintext","readOnly","defaultValue","Append","Radio","aria-label","onSelect","handleFormSelect","VoteConfirm","as","rows","disabled","Vote","selectedCandidate","setSelectedCandidate","renderDefault","Landing","subcomponent","setSubcomponent","App","setUser","component","Provider","newUser","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d9a0996b.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport default React.createContext();\r\n","// import React from 'react';\r\nimport React, { useState } from 'react';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport axios from 'axios';\r\nimport UserContext from '../utils/UserContext';\r\nimport \"./style.css\";\r\n\r\nfunction Login() {\r\n  const [uuid, setUUID] = useState();\r\n  const [password, setPassword] = useState();\r\n\r\n  const handleFormSubmit = async (uuid, password, handleLogin, event) => {\r\n    try {\r\n      event.preventDefault();\r\n      uuid = escape(uuid);\r\n\r\n      let query = `/api/login/${uuid}/${password}`;\r\n      const user = await axios.get(query);\r\n      console.log(\"Login.js login with uuid \" + uuid + \" found the following user \");\r\n      console.log(user);\r\n      if(user !== []) {\r\n        // If user is empty either the UUID was not found or the password is incorrect.\r\n        // The page will continue to show this Login page until a user is found & verified.\r\n        handleLogin(user.data[0]);\r\n      }\r\n    } catch ( err ) {\r\n      console.log(err);\r\n\r\n      // null means that no user is logged in.\r\n      handleLogin(null);\r\n    }\r\n  };\r\n\r\n    return (\r\n      <UserContext.Consumer>\r\n      {\r\n        ({handleLogin}) =>\r\n        <div className=\"container bg-grey full-screen\">\r\n            <div className=\"row\">\r\n                <div className=\"col heading\">\r\n                    <h1>Canada Votes Online</h1>\r\n                </div>\r\n            </div>\r\n            <div className=\"row bottom\">\r\n                <div className=\"col\">\r\n                  <Form>\r\n                    <Form.Group controlId=\"formBasicUUID\">\r\n                      <Form.Label className=\"entry-field-label\">UUID</Form.Label>\r\n                      <Form.Control type=\"text\" value={uuid} onChange={event => setUUID(event.target.value)}/>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"formBasicPassword\">\r\n                      <Form.Label className=\"entry-field-label\">Password</Form.Label>\r\n                      <Form.Control type=\"password\" value={password} onChange={event => setPassword(event.target.value)}/>\r\n                    </Form.Group>\r\n\r\n                    <div className=\"right-align-div\">\r\n                      <Button variant=\"secondary\" type=\"submit\" onClick={(event) => {handleFormSubmit(uuid, password, handleLogin, event)}}>\r\n                        Sign in\r\n                      </Button>\r\n                    </div>\r\n                  </Form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n      }\r\n      </UserContext.Consumer>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useState } from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport DropdownButton from 'react-bootstrap/DropdownButton';\r\nimport Button from 'react-bootstrap/Button';\r\nimport axios from 'axios';\r\nimport UserContext from '../utils/UserContext';\r\nimport \"./style.css\";\r\n\r\nfunction EditDistrict(props) {\r\n  const [address, setAddress] = useState();\r\n  const [city, setCity] = useState();\r\n  const [province, setProvince] = useState();\r\n\r\n  const handleFormSubmit = async (event) => {\r\n    let newDistrict = await axios.get(`/api/findDistrict/${address}/${city}/${province}`);\r\n    let user = { ...props.user.data };\r\n    user.address = address;\r\n    user.city = city;\r\n    user.province = province;\r\n    user.district = newDistrict;\r\n\r\n    props.history.push({\r\n      pathname: \"/editdistrictconfirm\",\r\n      user: user});\r\n  }\r\n\r\n    return (\r\n      <UserContext.Consumer>\r\n        {\r\n        <div className=\"container bg-grey full-screen\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h1>Enter your new address</h1>\r\n                </div>\r\n            </div>\r\n            <div className=\"row bottom\">\r\n              <div className=\"col\">\r\n                <Form>\r\n                    <Form.Group controlId=\"formBasicUUID\">\r\n                      <Form.Label className=\"entry-field-label\">Address</Form.Label>\r\n                      <Form.Control type=\"text\" placeholder=\"Enter address\" onChange={event => setAddress(event.target.value)}/>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"formBasicPassword\">\r\n                      <Form.Label className=\"entry-field-label\">City</Form.Label>\r\n                      <Form.Control type=\"text\" placeholder=\"Enter city\" onChange={event => setCity(event.target.value)}/>\r\n                    </Form.Group>\r\n\r\n                    <DropdownButton id=\"provinceDropdown\" title=\"Province/Territory\" variant=\"secondary\" onChange={event => setProvince(event.target.value)}>\r\n                        <Dropdown.Item >Alberta</Dropdown.Item>\r\n                        <Dropdown.Item >British Columbia</Dropdown.Item>\r\n                        <Dropdown.Item >Manitoba</Dropdown.Item>\r\n                        <Dropdown.Item >New Brunswick</Dropdown.Item>\r\n                        <Dropdown.Item >Newfoundland and Labrador</Dropdown.Item>\r\n                        <Dropdown.Item >Northwest Territories</Dropdown.Item>\r\n                        <Dropdown.Item >Nova Scotia</Dropdown.Item>\r\n                        <Dropdown.Item >Nunavut</Dropdown.Item>\r\n                        <Dropdown.Item >Ontario</Dropdown.Item>\r\n                        <Dropdown.Item >Prince Edward Island</Dropdown.Item>\r\n                        <Dropdown.Item >Quebec</Dropdown.Item>\r\n                        <Dropdown.Item >Saskatchewan</Dropdown.Item>\r\n                        <Dropdown.Item >Yukon</Dropdown.Item>\r\n                    </DropdownButton>\r\n\r\n                    <div className=\"right-align-div\">\r\n                      <Button variant=\"secondary\" type=\"submit\" onClick={(event) => {handleFormSubmit(event)}}>\r\n                        Save\r\n                      </Button>\r\n                    </div>\r\n                  </Form>\r\n              </div>\r\n            </div>\r\n        </div>\r\n        }\r\n        </UserContext.Consumer>\r\n    );\r\n}\r\n\r\nexport default EditDistrict;\r\n","import React from 'react';\r\nimport Card from 'react-bootstrap/Card';\r\nimport { Link } from 'react-router-dom';\r\nimport UserContext from '../utils/UserContext';\r\nimport \"./style.css\";\r\n\r\nfunction CandidateCard(props) {\r\n  console.log(\"CandidateCard\");\r\n  console.log(props);\r\n  \r\n  return props.model.map( (candidate, index) => {\r\n    console.log(candidate);\r\n    return (\r\n      <UserContext.Consumer>\r\n      {\r\n      <div className=\"ml-3 mt-3 col-12 col-sm-4\">\r\n        <Link to={{\r\n          pathname: '/candidate/',\r\n          state: {data: candidate}\r\n          }}> \r\n        <Card key={index} className={candidate.party}>         \r\n          <Card.Img variant=\"top\" src={candidate.pictureURL}   />\r\n          <Card.Title>{candidate.name}</Card.Title>\r\n          <Card.Text>\r\n            {candidate.party}\r\n          </Card.Text>\r\n        </Card>\r\n        </Link>\r\n      </div>\r\n      }\r\n      </UserContext.Consumer>\r\n    );\r\n  });\r\n}\r\n\r\nexport default CandidateCard;\r\n","import React from 'react';\r\n\r\nfunction LoadingSpinner() {\r\n\r\n    return (\r\n        <div>\r\n            <i className=\"fa fa-spinner fa-spin\" /> Loading...\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LoadingSpinner;\r\n\r\n\r\n\r\n","import React, {useState, useEffect} from 'react';\r\nimport CandidateCard from './CandidateCard';\r\nimport axios from 'axios';\r\nimport Button from 'react-bootstrap/Button';\r\nimport UserContext from '../utils/UserContext';\r\nimport LoadingSpinner from './LoadingSpinner';\r\nimport Landing from './Landing';\r\nimport \"./style.css\";\r\n\r\nfunction ViewCandidates() {\r\n    const [candidates, setCandidates] = useState([]);\r\n    const [voter, setVoter] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    console.log(\"viewcandidates\");\r\n\r\n    useEffect(() => {\r\n      console.log(\"ViewCandidates useEffect\");\r\n      async function loadCandidates() {\r\n        try {\r\n          if(voter === null) {\r\n            // Not ready to load candidates until we know what district the user is in\r\n            console.log(\"Vote loadCandidates no voter yet\");\r\n            return;\r\n          }\r\n  \r\n          if(loading) {\r\n            console.log(`/api/candidates/${voter.district}`);\r\n            const candidates = await axios.get(`/api/candidates/${voter.district}`);\r\n            console.log(\"View Candidates found \", candidates);\r\n            setCandidates(candidates.data);\r\n            setLoading(false);\r\n          }\r\n        }\r\n        catch( err ) {\r\n            console.log(err);\r\n            setCandidates([]);\r\n        }\r\n      }\r\n      loadCandidates();\r\n    }, [voter]);\r\n\r\n    const renderDefault = () => {\r\n      return (\r\n        <div className=\"container bg-grey\" >\r\n        <div className=\"row\">\r\n          <CandidateCard\r\n            model={candidates}\r\n          />\r\n        </div>\r\n        <div className=\"row p-3\">\r\n          <div className=\"col spread-align-div\">\r\n              <Button variant=\"secondary\"\r\n                onClick={ () => { return <Landing /> } }\r\n              >Home\r\n              </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <UserContext.Consumer>\r\n       {\r\n         ({user}) => {\r\n           setVoter(user);\r\n\r\n           return loading ? <LoadingSpinner /> : renderDefault();\r\n         }\r\n       }\r\n      </UserContext.Consumer>\r\n    );\r\n}\r\n\r\nexport default ViewCandidates;\r\n","import React from 'react';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\n// import FormControl from 'react-bootstrap/FormControl';\r\nimport Form from 'react-bootstrap/Form';\r\nimport UserContext from '../utils/UserContext';\r\nimport Test from './Test';\r\nimport \"./style.css\";\r\n\r\nfunction VoteRow(props) {\r\n  console.log(\"VoteRow \", props);\r\n  return props.model.map( (candidate, index) => {\r\n    return (\r\n      <InputGroup key={index} className=\"pb-3\">\r\n        <Form.Control plaintext readOnly className=\"bg-white text-right pr-3\" defaultValue={candidate.name + '/' + candidate.party} />\r\n        <InputGroup.Append>\r\n          <InputGroup.Radio name=\"votingGroup\" aria-label={candidate.name + '/' + candidate.party} onSelect={(event) => props.handleFormSelect(event)}/>\r\n        </InputGroup.Append>\r\n      </InputGroup>\r\n    );\r\n  });\r\n}\r\n\r\nexport default VoteRow;\r\n","import React from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport UserContext from '../utils/UserContext';\r\nimport \"./style.css\";\r\n\r\nfunction VoteConfirm(props) {\r\n\r\n    return (\r\n        <UserContext.Consumer>\r\n        {  \r\n        <div className={props.party + \" container full-screen\"}>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h1>You are voting for</h1>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                  <Form>\r\n                    <Form.Group controlId=\"voteForCandidate\">\r\n                      <Form.Label>{props.name}</Form.Label>\r\n                      <Form.Label>{props.party}</Form.Label>\r\n                      <Form.Control as=\"textarea\" rows=\"3\" disabled />\r\n                    </Form.Group>\r\n                  </Form>                \r\n                </div>\r\n            </div>\r\n            <div className=\"row pt-3\">\r\n                <div className=\"col\">\r\n                    <h1>Is this correct?</h1>\r\n                </div>\r\n            </div>\r\n            <div className=\"row bottom\">\r\n                <div className=\"col spread-align-div\">\r\n                    <Button variant=\"secondary\">Edit</Button>\r\n                    <Button variant=\"secondary\">Confirm</Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        }\r\n        </UserContext.Consumer>\r\n    );\r\n}\r\n\r\nexport default VoteConfirm;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Button from 'react-bootstrap/Button';\r\n// import Form from 'react-bootstrap/Form';\r\nimport VoteRow from './VoteRow';\r\nimport axios from 'axios';\r\nimport UserContext from '../utils/UserContext';\r\nimport VoteConfirm from './VoteConfirm';\r\nimport LoadingSpinner from './LoadingSpinner';\r\n\r\nimport \"./style.css\";\r\n\r\nfunction Vote() {\r\n  const [candidates, setCandidates] = useState(null);\r\n  const [selectedCandidate, setSelectedCandidate] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [voter, setVoter] = useState(null);\r\n\r\n  useEffect( () => {\r\n    console.log(\"Vote useEffect\");\r\n    async function loadCandidates() {\r\n      try {\r\n        if(voter === null) {\r\n          // Not ready to load candidates until we know what district the user is in\r\n          console.log(\"Vote loadCandidates no voter yet\");\r\n          return;\r\n        }\r\n  \r\n        if(loading) {\r\n          console.log(\"Vote loadCandidates voter is \", voter);\r\n          const candidates = await axios.get(`/api/candidates/${voter.district}`);\r\n          console.log(\"Vote loadCandidates after \", candidates);\r\n          setCandidates(candidates.data);\r\n          setLoading(false);\r\n        }\r\n      }\r\n      catch( err ) {\r\n          console.log(err);\r\n          setCandidates([]);\r\n      }\r\n    };\r\n    loadCandidates();  \r\n  }, [voter]);\r\n\r\n\r\n  const handleFormSelect = async (event) => {\r\n    setSelectedCandidate(event.target.value);\r\n  }\r\n\r\n  const renderVoteConfirm = () => {\r\n    return <VoteConfirm \r\n              candidate={selectedCandidate}\r\n              />\r\n  }\r\n\r\n  const renderDefault = () => {\r\n    console.log(\"Vote renderDefault \", candidates);\r\n    return  (\r\n      <div className=\"container bg-grey full-screen\">\r\n        <div className=\"row pt-3\">\r\n          <div className=\"col\">\r\n            <h1>Vote in District {voter.district}</h1>\r\n          </div>\r\n        </div>\r\n        <div className=\"row pt-3 pb-3\">\r\n            <div className=\"col\">\r\n                <VoteRow\r\n                  model={candidates}\r\n                  handleFormSelect={handleFormSelect}\r\n                />\r\n            </div>\r\n        </div>\r\n        <div className=\"row bottom\">\r\n            <div className=\"col right-align-div\">\r\n              <Button variant=\"secondary\" type=\"submit\" onClick={\r\n                () => { renderVoteConfirm() }\r\n              }>\r\n                Vote\r\n              </Button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <UserContext.Consumer>\r\n    {\r\n      ({user}) => {\r\n        console.log(\"Vote in render. user is \", user);\r\n        setVoter(user);\r\n        console.log(\"Vote in render. voter is \", voter);\r\n        console.log(\"Vote in render. candidates are \", candidates);\r\n        console.log(\"Vote in render, loading is \", loading);\r\n        return loading ? <LoadingSpinner /> : renderDefault();\r\n      }\r\n      \r\n  }\r\n  </UserContext.Consumer>\r\n    );\r\n}\r\n\r\nexport default Vote;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport UserContext from '../utils/UserContext';\r\nimport EditDistrict from \"./EditDistrict\";\r\nimport ViewCandidates from './ViewCandidates';\r\nimport Vote from './Vote';\r\nimport LoadingSpinner from './LoadingSpinner';\r\nimport \"./style.css\";\r\n\r\n\r\nfunction Landing() {\r\n    console.log(\"Landing\");\r\n    const [voter, setVoter] = useState(null);\r\n    const [subcomponent, setSubcomponent] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        console.log(\"useEffect\");\r\n        setSubcomponent(renderDefault());\r\n        console.log(subcomponent);\r\n    }, [voter]);\r\n\r\n    function renderDefault() {\r\n        console.log(\"renderDefault\");\r\n        if(voter == null) {\r\n            // Not ready to render yet\r\n            console.log(\"voter is null, returning\");\r\n            return;\r\n        }\r\n\r\n\r\n        setLoading(false);\r\n        return (\r\n            <div className=\"container bg-map full-screen\">\r\n                <div className=\"row\">\r\n                    <div className=\"col mt-3 w-100\">\r\n                    <Form className=\"bg-white\">\r\n                        <Form.Group className=\"between-align-div\" controlId=\"editElectoralDistrict\">\r\n                        <Form.Label>Your district is {voter.district}</Form.Label>\r\n                        <Button variant=\"secondary\" \r\n                            onClick={ () => { setSubcomponent(<EditDistrict />) }}>\r\n                            Edit</Button>\r\n                        </Form.Group>\r\n                    </Form>                \r\n                    </div>\r\n                </div>\r\n                <div className=\"row bottom\">\r\n                    <div className=\"col spread-align-div\">\r\n                        <Button variant=\"secondary\" \r\n                            onClick={ () => { setSubcomponent(<ViewCandidates />) }}>\r\n                            View Candidates</Button>\r\n                        <Button variant=\"secondary\"\r\n                            onClick={ () => { setSubcomponent(<Vote />) } }>\r\n                            Vote</Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n      <UserContext.Consumer>\r\n      {\r\n          ({user}) => {\r\n            // Can't set this on function load because we need to know \r\n            // the user's data.\r\n            setVoter(user);\r\n            console.log(subcomponent);\r\n            return loading ? <LoadingSpinner /> : subcomponent;\r\n          }\r\n      }\r\n      </UserContext.Consumer>  \r\n\r\n    );\r\n}\r\n\r\nexport default Landing;\r\n","import React, { useState } from 'react';\r\nimport Login from \"./components/Login\";\r\nimport Landing from \"./components/Landing\";\r\nimport UserContext from './utils/UserContext';\r\nimport \"./App.css\";\r\n\r\nfunction App() {\r\n//  const [user, setUser] = useState( null );\r\n  const [user, setUser] = useState( { name: \"A. Smith\", uuid: 1, district: \"W01\"});\r\n\r\n  let component = null;\r\n  if(user != null) {\r\n    component = <Landing />\r\n  } else {\r\n    component = <Login />\r\n  }\r\n\r\n  return (\r\n    <UserContext.Provider value={ {\r\n      user: user,\r\n      handleLogin: (newUser) => {console.log(\"App Context \", newUser); setUser(newUser)}\r\n    } }>\r\n      { component }\r\n    </UserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"font-awesome/css/font-awesome.min.css\";\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}